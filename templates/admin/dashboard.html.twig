{% extends 'admin/base.html.twig' %}

{% block title %}Tableau de bord Admin{% endblock %}

{% block content %}
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">Tableau de bord</h1>
</div>

<!-- Flash messages -->
{% for message in app.flashes('success') %}
    <div class="alert alert-success alert-dismissible fade show" role="alert">
        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>
{% endfor %}
{% for message in app.flashes('danger') %}
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>
{% endfor %}

<!-- Statistics Cards -->
<div class="row mb-4">
    <div class="col-md-4">
        <div class="card text-white bg-primary mb-3">
            <div class="card-body">
                <h5 class="card-title">Total Donateurs</h5>
                <h2 class="card-text">{{ totalDonateurs }}</h2>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card text-white bg-warning mb-3">
            <div class="card-body">
                <h5 class="card-title">Stocks Critiques</h5>
                <h2 class="card-text">{{ nbStocksCritiques }}</h2>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card text-white bg-info mb-3">
            <div class="card-body">
                <h5 class="card-title">Dons à Valider</h5>
                <h2 class="card-text">{{ nbRdvAValider }}</h2>
            </div>
        </div>
    </div>
</div>

<!-- Quick Actions -->
<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-header">
                <h5>Actions rapides</h5>
            </div>
            <div class="card-body">
                <a href="{{ path('app_admin_lieu_new') }}" class="btn btn-primary me-2">Nouveau Lieu</a>
                <a href="{{ path('app_admin_collecte_new') }}" class="btn btn-primary me-2">Nouvelle Collecte</a>
                <a href="{{ path('app_admin_stock_index') }}" class="btn btn-warning me-2">Gérer les Stocks</a>
                <a href="{{ path('app_admin_don_valider') }}" class="btn btn-info">Valider les Dons</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}

